syntax = "proto3";

//package protobufs;

// A session response contains a boolean indicating success / failure
// and a string containing either an error or a successfully-created
// session ID
message CreateSessionResponse {
  bool authenticated = 1;
  string err_or_session_id = 2;
}

service CommandService {
  rpc ExchangeHashes(HashesRequest) returns (Hashes);
  rpc PutHashes(PutHashesRequest) returns (PutHashesResponse);
}

message HashesRequest {
  string session_key = 1;
  repeated string hashes = 2;
}

message Hashes {
  repeated string hashes = 1;
}

message PutHashesRequest {
  string session_key = 1;
  repeated string bodies = 2;
}

message PutHashesResponse {
  bool success = 1;
}

message Promise {
  bool success = 1;
  uint64 promise_id = 2;
}

